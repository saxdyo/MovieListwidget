# å‰§é›†æ ‡é¢˜æµ·æŠ¥é—®é¢˜ä¿®å¤æ€»ç»“

## ğŸ” é—®é¢˜åˆ†æ

**ç”¨æˆ·åé¦ˆ**: ç±»å‹é€‰æ‹©å‰§é›†æ²¡æœ‰æ ‡é¢˜æµ·æŠ¥

**æ ¹æœ¬åŸå› **: 
1. å‰§é›†æ•°æ®ç»“æ„ä¸ç”µå½±ä¸åŒ
2. å‰§é›†ä½¿ç”¨ `first_air_date` è€Œä¸æ˜¯ `release_date`
3. æ ‡é¢˜æµ·æŠ¥ç”Ÿæˆå‡½æ•°åªè€ƒè™‘äº†ç”µå½±çš„æ—¥æœŸå­—æ®µ
4. å‰§é›†ä½¿ç”¨ `name` å­—æ®µè€Œä¸æ˜¯ `title` å­—æ®µ

## ğŸ› ï¸ ä¿®å¤æ–¹æ¡ˆ

### 1. ä¿®å¤å¹´ä»½æå–é€»è¾‘

**é—®é¢˜**: åŸä»£ç åªè€ƒè™‘ `release_date`ï¼Œå¿½ç•¥äº†å‰§é›†çš„ `first_air_date`

**ä¿®å¤å‰**:
```javascript
year = item.year || (item.release_date ? item.release_date.substring(0, 4) : ""),
```

**ä¿®å¤å**:
```javascript
year = item.year || (item.release_date ? item.release_date.substring(0, 4) : "") || (item.first_air_date ? item.first_air_date.substring(0, 4) : ""),
```

### 2. å¢å¼ºè°ƒè¯•ä¿¡æ¯

**æ·»åŠ å†…å®¹**: åœ¨è°ƒè¯•æ—¥å¿—ä¸­æ˜¾ç¤ºæ›´å¤šå‰§é›†ç›¸å…³ä¿¡æ¯
```javascript
console.log(`[æ¨ªç‰ˆæµ·æŠ¥] é¡¹ç›®æ•°æ®:`, {
    title: item.title || item.name,
    backdrop_path: item.backdrop_path,
    poster_path: item.poster_path,
    backdropPath: item.backdropPath,
    posterPath: item.posterPath,
    first_air_date: item.first_air_date,
    release_date: item.release_date,
    media_type: item.media_type
});
```

### 3. æ·»åŠ ä¸“é—¨çš„å‰§é›†è°ƒè¯•å‡½æ•°

**æ–°å¢å‡½æ•°**: `debugTVShowTitlePoster()`

**åŠŸèƒ½**:
- ä¸“é—¨æ£€æŸ¥å‰§é›†æ•°æ®
- ç­›é€‰å‰§é›†é¡¹ç›®ï¼ˆ`media_type === 'tv'` æˆ–ä½¿ç”¨ `name` å­—æ®µï¼‰
- æµ‹è¯•å‰§é›†æ ‡é¢˜æµ·æŠ¥ç”Ÿæˆ
- è°ƒç”¨ä¸“é—¨çš„å‰§é›†APIè¿›è¡Œæµ‹è¯•
- æä¾›è¯¦ç»†çš„å‰§é›†è°ƒè¯•ä¿¡æ¯

## âœ… ä¿®å¤æ•ˆæœ

### æµ‹è¯•ç»“æœ

1. **æœ‰èƒŒæ™¯å›¾ç‰‡çš„å‰§é›†**: âœ… æˆåŠŸç”Ÿæˆæ ‡é¢˜æµ·æŠ¥
   - æ­£ç¡®æå– `first_air_date` å¹´ä»½
   - ä½¿ç”¨ `name` å­—æ®µä½œä¸ºæ ‡é¢˜

2. **åªæœ‰æµ·æŠ¥å›¾ç‰‡çš„å‰§é›†**: âœ… æˆåŠŸç”Ÿæˆæ ‡é¢˜æµ·æŠ¥
   - ä½¿ç”¨æµ·æŠ¥ä½œä¸ºèƒŒæ™¯å›¾ç‰‡
   - æ­£ç¡®æ˜¾ç¤ºå¹´ä»½ä¿¡æ¯

3. **æ²¡æœ‰ä»»ä½•å›¾ç‰‡çš„å‰§é›†**: âŒ é»˜è®¤è·³è¿‡ï¼ˆä¿æŠ¤æœºåˆ¶ï¼‰
   - é¿å…ç”Ÿæˆæ— æ„ä¹‰çš„æ ‡é¢˜æµ·æŠ¥

4. **å¼ºåˆ¶ç”Ÿæˆæ¨¡å¼**: âœ… ä½¿ç”¨é»˜è®¤èƒŒæ™¯æˆåŠŸç”Ÿæˆ
   - å³ä½¿æ²¡æœ‰å›¾ç‰‡ä¹Ÿèƒ½ç”Ÿæˆæ ‡é¢˜æµ·æŠ¥

5. **å¹´ä»½æå–å¯¹æ¯”**: âœ… ç”µå½±å’Œå‰§é›†éƒ½èƒ½æ­£ç¡®æå–å¹´ä»½
   - ç”µå½±ï¼šä½¿ç”¨ `release_date`
   - å‰§é›†ï¼šä½¿ç”¨ `first_air_date`

### å…³é”®æ”¹è¿›

1. **å¤šæ—¥æœŸå­—æ®µæ”¯æŒ**: åŒæ—¶æ”¯æŒ `release_date` å’Œ `first_air_date`
2. **å‰§é›†æ ‡é¢˜æ”¯æŒ**: æ­£ç¡®å¤„ç† `name` å­—æ®µä½œä¸ºå‰§é›†æ ‡é¢˜
3. **åª’ä½“ç±»å‹è¯†åˆ«**: é€šè¿‡ `media_type` å­—æ®µåŒºåˆ†ç”µå½±å’Œå‰§é›†
4. **è¯¦ç»†è°ƒè¯•**: å¢åŠ å‰§é›†ç›¸å…³çš„è°ƒè¯•ä¿¡æ¯

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### 1. æ­£å¸¸ä½¿ç”¨
å‰§é›†æ ‡é¢˜æµ·æŠ¥åŠŸèƒ½ä¼šè‡ªåŠ¨æ£€æµ‹å¹¶ç”Ÿæˆï¼Œæ— éœ€é¢å¤–é…ç½®ã€‚

### 2. è°ƒè¯•å‰§é›†é—®é¢˜
å¦‚æœé‡åˆ°å‰§é›†æ ‡é¢˜æµ·æŠ¥é—®é¢˜ï¼Œå¯ä»¥è°ƒç”¨ä¸“é—¨çš„è°ƒè¯•å‡½æ•°ï¼š
```javascript
await debugTVShowTitlePoster();
```

### 3. å¼ºåˆ¶ç”Ÿæˆ
å¦‚æœéœ€è¦ä¸ºæ‰€æœ‰å‰§é›†ç”Ÿæˆæ ‡é¢˜æµ·æŠ¥ï¼ˆå³ä½¿æ²¡æœ‰èƒŒæ™¯å›¾ç‰‡ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨ï¼š
```javascript
const titlePoster = await createTitlePosterWithOverlay(tvShow, {
    forceGenerate: true
});
```

## ğŸ“‹ æ£€æŸ¥æ¸…å•

- [x] ä¿®å¤ `Move_list 2.js` ä¸­çš„å¹´ä»½æå–é€»è¾‘
- [x] ä¿®å¤ `movietv.js` ä¸­çš„å¹´ä»½æå–é€»è¾‘
- [x] æ·»åŠ å‰§é›†ä¸“é—¨çš„è°ƒè¯•å‡½æ•°
- [x] åˆ›å»ºæµ‹è¯•è„šæœ¬éªŒè¯ä¿®å¤
- [x] æµ‹è¯•å„ç§å‰§é›†åœºæ™¯ï¼ˆæœ‰å›¾ç‰‡ã€æ— å›¾ç‰‡ã€å¼ºåˆ¶ç”Ÿæˆï¼‰
- [x] å¯¹æ¯”ç”µå½±å’Œå‰§é›†çš„å¹´ä»½æå–

## ğŸ¯ é¢„æœŸæ•ˆæœ

ä¿®å¤åï¼Œå‰§é›†ç±»å‹åº”è¯¥èƒ½å¤Ÿæ­£å¸¸æ˜¾ç¤ºæ ‡é¢˜æµ·æŠ¥ï¼š
- å‰§é›†é¡¹ç›®ä¼šæ­£ç¡®æ˜¾ç¤ºæ ‡é¢˜ï¼ˆä½¿ç”¨ `name` å­—æ®µï¼‰
- å‰§é›†å¹´ä»½ä¼šæ­£ç¡®æå–ï¼ˆä½¿ç”¨ `first_air_date`ï¼‰
- å‰§é›†èƒŒæ™¯å›¾ç‰‡ä¼šæ­£ç¡®æ˜¾ç¤º
- æä¾›è¯¦ç»†çš„è°ƒè¯•ä¿¡æ¯å¸®åŠ©æ’æŸ¥é—®é¢˜

## ğŸ”§ æŠ€æœ¯ç»†èŠ‚

### æ•°æ®ç»“æ„å·®å¼‚

**ç”µå½±æ•°æ®ç»“æ„**:
```javascript
{
    title: "ç”µå½±æ ‡é¢˜",
    release_date: "2024-01-01",
    backdrop_path: "/movie-backdrop.jpg",
    media_type: "movie"
}
```

**å‰§é›†æ•°æ®ç»“æ„**:
```javascript
{
    name: "å‰§é›†æ ‡é¢˜",
    first_air_date: "2024-01-01",
    backdrop_path: "/tv-backdrop.jpg",
    media_type: "tv"
}
```

### ä¿®å¤é€»è¾‘

1. **æ ‡é¢˜æå–**: `item.title || item.name || "æœªçŸ¥æ ‡é¢˜"`
2. **å¹´ä»½æå–**: `release_date` â†’ `first_air_date` â†’ ç©ºå­—ç¬¦ä¸²
3. **åª’ä½“ç±»å‹**: é€šè¿‡ `media_type` å­—æ®µè¯†åˆ«
4. **èƒŒæ™¯å›¾ç‰‡**: æ”¯æŒå¤šç§å›¾ç‰‡å­—æ®µçš„ä¼˜å…ˆçº§

ç°åœ¨ä½ çš„å‰§é›†ç±»å‹åº”è¯¥èƒ½å¤Ÿæ­£å¸¸æ˜¾ç¤ºæ ‡é¢˜æµ·æŠ¥äº†ï¼