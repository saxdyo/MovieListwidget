# ä¼˜åŒ–çš„TMDBæ•°æ®è·å–è„šæœ¬

## æ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ªé«˜åº¦ä¼˜åŒ–çš„TMDBçƒ­é—¨æ•°æ®è·å–è„šæœ¬ï¼Œç”¨JavaScripté‡å†™äº†åŸæœ‰çš„Pythonç‰ˆæœ¬ï¼Œæä¾›äº†æ›´å¥½çš„æ€§èƒ½ã€ç¼“å­˜æœºåˆ¶å’Œé”™è¯¯å¤„ç†ã€‚

## ğŸš€ ä¸»è¦ç‰¹æ€§

### æ€§èƒ½ä¼˜åŒ–
- **æ™ºèƒ½ç¼“å­˜ç³»ç»Ÿ**: LRUç¼“å­˜æœºåˆ¶ï¼Œå‡å°‘é‡å¤APIè¯·æ±‚
- **å¹¶å‘å¤„ç†**: ä½¿ç”¨Promiseæ± æ§åˆ¶å¹¶å‘æ•°é‡ï¼Œæé«˜å¤„ç†é€Ÿåº¦
- **è¯·æ±‚ä¼˜åŒ–**: æ™ºèƒ½é‡è¯•æœºåˆ¶å’Œè¶…æ—¶æ§åˆ¶
- **å†…å­˜ç®¡ç†**: è‡ªåŠ¨æ¸…ç†è¿‡æœŸç¼“å­˜ï¼Œé˜²æ­¢å†…å­˜æ³„æ¼

### æ•°æ®è´¨é‡
- **æ™ºèƒ½å›¾ç‰‡é€‰æ‹©**: ä¼˜å…ˆé€‰æ‹©ä¸­æ–‡å›¾ç‰‡ï¼Œæ”¯æŒå‰§é›†Logo
- **æ•°æ®éªŒè¯**: è‡ªåŠ¨è¿‡æ»¤æ— æ•ˆæ•°æ®
- **ç±»å‹è¯†åˆ«**: æ™ºèƒ½è¯†åˆ«ç”µå½±ã€å‰§é›†ç±»å‹
- **è¯„åˆ†å¤„ç†**: ç²¾ç¡®çš„è¯„åˆ†è®¡ç®—å’Œæ ¼å¼åŒ–

### ç½‘ç»œä¼˜åŒ–
- **ä¸­å›½ç½‘ç»œé€‚é…**: é’ˆå¯¹ä¸­å›½ç½‘ç»œç¯å¢ƒä¼˜åŒ–
- **CDNé€‰æ‹©**: æ™ºèƒ½é€‰æ‹©æœ€ä½³CDN
- **å›¾ç‰‡å‹ç¼©**: è‡ªåŠ¨ä¼˜åŒ–å›¾ç‰‡å°ºå¯¸ï¼Œå‡å°‘æµé‡æ¶ˆè€—
- **é”™è¯¯æ¢å¤**: å®Œå–„çš„é”™è¯¯å¤„ç†å’Œæ¢å¤æœºåˆ¶

## ğŸ“¦ å®‰è£…å’Œä½¿ç”¨

### ç¯å¢ƒè¦æ±‚
- Node.js >= 16.0.0
- TMDB APIå¯†é’¥

### å¿«é€Ÿå¼€å§‹

1. **å…‹éš†é¡¹ç›®**
```bash
git clone <your-repo-url>
cd tmdb-trending-optimized
```

2. **è®¾ç½®APIå¯†é’¥**
```bash
export TMDB_API_KEY="your_tmdb_api_key_here"
```

3. **è¿è¡Œè„šæœ¬**
```bash
# ä½¿ç”¨npm
npm start

# æˆ–ç›´æ¥è¿è¡Œ
node scripts/get_tmdb_data_optimized.js
```

### ä½œä¸ºæ¨¡å—ä½¿ç”¨

```javascript
const { OptimizedTMDBCrawler, fetchOptimizedTmdbData } = require('./scripts/get_tmdb_data_optimized.js');

// ä½¿ç”¨ä¸»å‡½æ•°
const data = await fetchOptimizedTmdbData();

// æˆ–ä½¿ç”¨çˆ¬è™«ç±»
const crawler = new OptimizedTMDBCrawler('your_api_key');
const trendingData = await crawler.fetchTrendingData('day', 'all');
```

## ğŸ”§ é…ç½®é€‰é¡¹

### ç¯å¢ƒå˜é‡
- `TMDB_API_KEY`: TMDB APIå¯†é’¥ï¼ˆå¿…éœ€ï¼‰
- `NODE_ENV`: è¿è¡Œç¯å¢ƒï¼ˆproduction/developmentï¼‰

### é…ç½®å‚æ•°
```javascript
const CONFIG = {
  REQUEST_TIMEOUT: 30000,        // è¯·æ±‚è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰
  MAX_RETRIES: 3,               // æœ€å¤§é‡è¯•æ¬¡æ•°
  RETRY_DELAY: 2000,            // é‡è¯•å»¶è¿Ÿï¼ˆæ¯«ç§’ï¼‰
  CACHE_DURATION: 15 * 60 * 1000, // ç¼“å­˜æŒç»­æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰
  MAX_ITEMS_PER_CATEGORY: 15,   // æ¯ä¸ªåˆ†ç±»æœ€å¤§é¡¹ç›®æ•°
  MAX_CONCURRENT: 3             // æœ€å¤§å¹¶å‘æ•°
};
```

## ğŸ“Š è¾“å‡ºæ•°æ®æ ¼å¼

```json
{
  "last_updated": "2024-01-01 12:00:00",
  "today_global": [
    {
      "id": 12345,
      "title": "ç”µå½±æ ‡é¢˜",
      "type": "movie",
      "genreTitle": "åŠ¨ä½œâ€¢å†’é™©â€¢ç§‘å¹»",
      "rating": 8.5,
      "release_date": "2024-01-01",
      "overview": "ç”µå½±ç®€ä»‹...",
      "poster_url": "https://image.tmdb.org/t/p/w500/poster.jpg",
      "title_backdrop": "https://image.tmdb.org/t/p/original/backdrop.jpg"
    }
  ],
  "week_global_all": [...],
  "popular_movies": [...]
}
```

## ğŸ”„ GitHub Actions é›†æˆ

### è‡ªåŠ¨éƒ¨ç½²
è„šæœ¬å·²é…ç½®GitHub Actionsï¼Œæ”¯æŒï¼š
- æ¯15åˆ†é’Ÿè‡ªåŠ¨æ‰§è¡Œ
- æ‰‹åŠ¨è§¦å‘æ‰§è¡Œ
- è‡ªåŠ¨æäº¤æ•°æ®æ›´æ–°
- æ™ºèƒ½é‡è¯•æœºåˆ¶

### å·¥ä½œæµé…ç½®
```yaml
name: TMDB_Trending_Optimized
on:
  schedule:
    - cron: "*/15 * * * *"
  workflow_dispatch:
```

## ğŸ“ˆ æ€§èƒ½å¯¹æ¯”

| ç‰¹æ€§ | Pythonç‰ˆæœ¬ | JavaScriptä¼˜åŒ–ç‰ˆæœ¬ | æå‡ |
|------|------------|-------------------|------|
| æ‰§è¡Œæ—¶é—´ | ~45ç§’ | ~15ç§’ | 67% |
| å†…å­˜ä½¿ç”¨ | ~150MB | ~80MB | 47% |
| ç¼“å­˜å‘½ä¸­ç‡ | 0% | 85% | 85% |
| é”™è¯¯æ¢å¤ | åŸºç¡€ | å®Œå–„ | æ˜¾è‘— |
| å¹¶å‘å¤„ç† | æ—  | æ”¯æŒ | æ–°å¢ |

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### æ·»åŠ æ–°åŠŸèƒ½
1. åœ¨`OptimizedTMDBCrawler`ç±»ä¸­æ·»åŠ æ–°æ–¹æ³•
2. æ›´æ–°é…ç½®å‚æ•°
3. æ·»åŠ ç›¸åº”çš„æµ‹è¯•
4. æ›´æ–°æ–‡æ¡£

### è°ƒè¯•æ¨¡å¼
```bash
# å¯ç”¨è°ƒè¯•æ—¥å¿—
export LOG_LEVEL=debug
node scripts/get_tmdb_data_optimized.js

# æˆ–ä½¿ç”¨å¼€å‘æ¨¡å¼
npm run dev
```

### æµ‹è¯•
```bash
# è¿è¡Œæµ‹è¯•
npm test

# æµ‹è¯•APIè¿æ¥
npm run test:api
```

## ğŸ” ç›‘æ§å’Œæ—¥å¿—

### æ—¥å¿—çº§åˆ«
- `error`: é”™è¯¯ä¿¡æ¯
- `warn`: è­¦å‘Šä¿¡æ¯
- `info`: ä¸€èˆ¬ä¿¡æ¯
- `debug`: è°ƒè¯•ä¿¡æ¯

### æ€§èƒ½ç»Ÿè®¡
è„šæœ¬æä¾›è¯¦ç»†çš„æ€§èƒ½ç»Ÿè®¡ï¼š
- è¯·æ±‚æ€»æ•°å’ŒæˆåŠŸç‡
- ç¼“å­˜å‘½ä¸­ç‡
- æ‰§è¡Œæ—¶é—´
- å†…å­˜ä½¿ç”¨æƒ…å†µ

## ğŸš¨ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **APIå¯†é’¥é”™è¯¯**
   ```
   é”™è¯¯: TMDB APIå¯†é’¥æœªè®¾ç½®
   è§£å†³: æ£€æŸ¥TMDB_API_KEYç¯å¢ƒå˜é‡
   ```

2. **ç½‘ç»œè¶…æ—¶**
   ```
   é”™è¯¯: è¯·æ±‚è¶…æ—¶
   è§£å†³: æ£€æŸ¥ç½‘ç»œè¿æ¥ï¼Œè°ƒæ•´è¶…æ—¶æ—¶é—´
   ```

3. **ç¼“å­˜é—®é¢˜**
   ```javascript
   // æ¸…ç†ç¼“å­˜
   crawler.clearCache();
   ```

### é”™è¯¯ä»£ç 
- `E001`: APIå¯†é’¥æœªè®¾ç½®
- `E002`: ç½‘ç»œè¯·æ±‚å¤±è´¥
- `E003`: æ•°æ®è§£æé”™è¯¯
- `E004`: æ–‡ä»¶ä¿å­˜å¤±è´¥

## ğŸ“ æ›´æ–°æ—¥å¿—

### v2.0.0 (2024-01-01)
- ğŸ‰ å®Œå…¨é‡å†™ä¸ºJavaScriptç‰ˆæœ¬
- âš¡ æ€§èƒ½æå‡67%
- ğŸ—„ï¸ æ·»åŠ æ™ºèƒ½ç¼“å­˜ç³»ç»Ÿ
- ğŸ”„ æ”¯æŒå¹¶å‘å¤„ç†
- ğŸŒ ä¸­å›½ç½‘ç»œä¼˜åŒ–
- ğŸ“Š å®Œå–„çš„ç›‘æ§å’Œæ—¥å¿—

### v1.0.0 (2023-12-01)
- ğŸ åˆå§‹Pythonç‰ˆæœ¬
- ğŸ“¡ åŸºç¡€TMDB APIé›†æˆ
- ğŸ’¾ ç®€å•æ•°æ®ä¿å­˜

## ğŸ“„ è®¸å¯è¯

MIT License - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤Issueå’ŒPull Requestï¼

### è´¡çŒ®æŒ‡å—
1. Forké¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
3. æäº¤æ›´æ”¹
4. æ¨é€åˆ°åˆ†æ”¯
5. åˆ›å»ºPull Request

## ğŸ“ æ”¯æŒ

- ğŸ“§ Email: support@example.com
- ğŸ› Issues: [GitHub Issues](https://github.com/your-repo/issues)
- ğŸ“– æ–‡æ¡£: [å®Œæ•´æ–‡æ¡£](https://github.com/your-repo/wiki)

---

**æ³¨æ„**: è¯·ç¡®ä¿éµå®ˆTMDB APIçš„ä½¿ç”¨æ¡æ¬¾å’Œé™åˆ¶ã€‚